<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>MCBackend</h1>
<p>This is the middleware for Mein Caritas.</p>
<p>it does</p>
<ul>
<li>sanity check from external APIs</li>
<li>sanity correction from external APIs</li>
<li>sends always consistent a data-modell</li>
<li>simplify external API</li>
<li>Authentication and authentification over <a href="https://www.keycloak.org">keycloak</a></li>
</ul>
<h2>Installation</h2>
<p>See <a href="tutorial-installation.html">Installation</a></p>
<h2>Structure</h2>
<p>The structure is based on <a href="ttps://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">Model-View-Controller</a></p>
<h2>Entrypoint</h2>
<p>We also use <a href="/code-docs/module-index.html">index.js</a> as entrypoint.</p>
<h2>Model</h2>
<p>Our datamodels protect themself from false data and you always can check if the input is correct. Every datamodel exports itself as a <a href="https://www.npmjs.com/package/yup">YUP-scheme</a>. So we can guarantee, that the data always is correct before sending is out to user or external API.</p>
<ul>
<li><a href="module-datamodel_configuration.html">configuration</a></li>
<li><a href="module-datamodel_confluenceSite.html">confluenceSite</a></li>
<li><a href="module-datamodel_DMSAttachments.html">DMSAttachments</a></li>
</ul>
<h2>View</h2>
<p>The views are just <a href="https://ejs.co/">ejs-templates</a>. Those are just HTML-Template where data can be substituted.</p>
<ul>
<li><a href="views/apiView.ejs">apiView</a> - defines a human-readable view of data. For presentation only</li>
<li><a href="views/error.ejs">error</a> - default View for every error (404, 401, etc).</li>
<li><a href="views/index.ejs">index</a> - Welcome site if it happens that someone landet here with a browser. Always be nice.</li>
</ul>
<h2>Controller</h2>
<p>Everytime you use a URL (a route) a controller decides what to do.
The controllers are relying on modules and he calls them. We want to keep the controllers simple. So, all the heavy lifting comes from modules.</p>
<ul>
<li><a href="/code-docs/module-controller_DMS_DMSController.html">DMSController</a></li>
</ul>
<h2>Modules</h2>
<p>The modules always exports complete javscript objects in ECMAScript 2015 or short ES6 (<a href="https://www.w3schools.com/js/js_es6.asp">Overview over ES6</a>), (<a href="https://262.ecma-international.org/6.0/">technical description of ES6</a>)</p>
<h3>general modules</h3>
<p>Modules for internal use</p>
<ul>
<li><a href="/code-docs/modules_app.js.html">app</a>: initializes the application as <a href="https://expressjs.com/de/">expressjs</a> application and configures all middleware</li>
<li><a href="/code-docs/modules_configuration.js.html">configuration</a>: pusht values from the evironment variables into the datamodel. <strong>Use that to get the app configuration</strong></li>
<li><a href="/code-docs/modules_cors.js.html">cors</a>: this module handle the configuration for <a href="https://developer.mozilla.org/de/docs/Web/HTTP/CORS">CORS</a>. Meaning the definition who is allowed to connect to us</li>
<li><a href="/code-docs/modules_logger.js.html">logger</a>: Global Initialization for automated and colorful console-logging.</li>
<li><a href="/code-docs/modules_swagger.js.html">swagger</a>: Automation for API-documentation.</li>
<li><a href="/code-docs/modules_privateRoutes.js.html">privateRoutes</a>: sets up the URLs that are not public. To use them, you must be authenticated.</li>
<li><a href="/code-docs/modules_routes.js.html">Routes</a>: sets up all public routes. for detail, see under &quot;Public routes&quot;.</li>
</ul>
<h3>modules for external APIs</h3>
<p>Logical order for modules specificly to handle external APIs.</p>
<ul>
<li><a href="/code-docs/modules_externalAPIs_genericAPIUse.js.html">genericAPIUse</a>: Used for every API-Call. <strong>It doesn't generate errors, it just log them</strong></li>
<li><a href="/code-docs/model_confluenceSite.js.html">confluenceSite</a></li>
</ul>
<h3>modules as middleware for express</h3>
<p>Middleware-Modules are called on every request, no matter the path.</p>
<ul>
<li><a href="public/code-docs/modules_promClient.js.html">promClient</a>: creates measurements for prometheus and exports them</li>
</ul>
<h2>Routes</h2>
<h3>Public routes</h3>
<p>Public routes are URLs available for everyone (with authentication) and defined in the module <a href="public/code-docs/module-modules_routes.html">routes.js</a>.
Those URL are:</p>
<ul>
<li><a href="/">/</a>: Welcome / Landing-Page</li>
<li><a href="/api-docs">/api-docs</a>: swagger-documentation of all our APIs</li>
<li><a href="/code-docs">/code-docs</a>: code-documentation. You are here.</li>
<li><a href="/metrics">/metrics</a>: exports measurements for our prometheus</li>
</ul>
<h3>Private routes</h3>
<p>Private routes are URL protected by a authentication mechanism. All our private routes are APIs. So they are documented in <a href="/api-docs">swagger</a>.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-controller_DMS_DMSController.html">controller/DMS/DMSController</a></li><li><a href="module-datamodel_configuration.html">datamodel/configuration</a></li><li><a href="module-datamodel_confluenceSite.html">datamodel/confluenceSite</a></li><li><a href="module-datamodel_DMSAttachments.html">datamodel/DMSAttachments</a></li><li><a href="module-index.html">index</a></li><li><a href="module-modules_app.html">modules/app</a></li><li><a href="module-modules_configuration.html">modules/configuration</a></li><li><a href="module-modules_cors.html">modules/cors</a></li><li><a href="module-modules_externalAPIs_confluenceSite.html">modules/externalAPIs/confluenceSite</a></li><li><a href="module-modules_externalAPIs_gnericAPIUse.html">modules/externalAPIs/gnericAPIUse</a></li><li><a href="module-modules_logger.html">modules/logger</a></li><li><a href="module-modules_privateRoutes.html">modules/privateRoutes</a></li><li><a href="module-modules_routes.html">modules/routes</a></li><li><a href="module-routes_VPERoutes.html">routes/VPERoutes</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-installation.html">installation</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Fri Jan 21 2022 21:49:29 GMT+0100 (Mitteleurop√§ische Normalzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>